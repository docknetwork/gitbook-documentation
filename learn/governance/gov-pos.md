# Proof of Stake

In this phase, estimated for Q2 2021, the network changes to [Nominated Proof of Stake \(NPoS\)](https://research.web3.foundation/en/latest/polkadot/NPoS/index.html) designed by Web3 Foundation where becoming a validator requires you to stake \(lock up\) tokens. Candidate validators can stake their own tokens or other token holders can nominate candidates by locking tokens on their behalf. The locked tokens can only be withdrawn after 2 epochs, i.e., 20 days. This time period is called an unbonding period. 

The candidates with the most stake behind them become validators and earn rewards every epoch; there can be at most 50 validators at any given instant. In case of malicious behavior, the validators and their nominators are penalized proportionately via a mechanism called slashing. Slashing is an event where the validator and/or nominator forfeits a defined proportion of staked tokens, which are then redistributed to the Treasury.  
  
The block rewards consist of the emission rewards and fees from the transactions and rewards for each epoch go to the Treasury. The emission rewards are configured such that every year at most a certain amount of tokens need to be emitted and this number decreases each year by 25% of the remaining supply. The Treasury also gets a share of the slashings depending on the kind of maliciousness, more on that later. For more details on the economics, check the [section on PoS token-economics](../token-economics/econ-pos.md). 

The Treasury is not a multi-signature account anymore at this stage, and requires tokens to be withdrawn through transactions. Tokens earned as block rewards, either by validators or nominators, can be withdrawn up to 10 epochs, i.e., about 3 months, post the epoch in which they were earned. The rewards are not directly credited to accounts as that might cause the chain to pause in case of thousands of nominators \(It looks practical that we directly credit to nominators and validators in the early stages of PoS as there won't be much of them and later on remove this feature??? After what number do we change? Benchmark\). 

The governing Council membership process changes as well. It is determined by the token holders and not by the Dock Corp., except the founding members of the Council \(members during PoA\) who will retain their status for 6 months. To become a Council member, a candidate registers itself and locks 100 tokens. Any token holder can vote for the candidate by locking tokens signaling its vote. A token holder can vote for many candidates at the same and can also remove any of its locked tokens for any candidates. The Council members are selected by Phragmen, which is the same algorithm used to select validators in NPoS. If a voter votes for more than 1 candidate with its locked tokens, Phragmen distributes the locked tokens to maximize the total amount of locked tokens in the system and decrease the variance between each candidate's locked tokens. Once a candidate is selected to be a member, it serves its tenure of 1 year unless malicious behavior is detected, which leads to loss of the locked tokens \(What can be the malicious action and how can it be proved???\). 

Any changes to be made in the network are done through the same voting process designed by Web3 Foundation. The change \(a function call with parameters\) is first proposed by any token holder locking some tokens and the proposal can only have a binary, i.e. yes or no vote. The proposal can be backed by other token holders as well if they agree with it. A proposal can also be raised by the Council. Proposals by Council and the general public are kept in separate queue and every 30 days a proposal is picked from one of the queues and considered for voting, the proposal selection alternates between those queues. The proposal being picked is the one with maximum votes and is said to have entered in the referendum. In the referendum, the votes are tallied, and depending on various conditions the proposal is accepted or rejected. If accepted, the proposal is executed after the enactment period which is always kept a little longer than the unbonding period such that token holders can leave the network after an unfavorable proposal. 

The value of a vote is proportional to the number of tokens and also the duration for which the tokens are locked. There is a "vote multiplier" which is multiplied by the locked token amount when tallying votes. The maximum value of the multiplier is 6 and it's achieved when tokens are locked for 6 epochs, locking for 2 epochs makes the multiplier 2, locking for 3 makes it 3, etc. Another factor while tallying the votes is the voter turnout. A proposal that is raised by the general public and has a low turnout requires super-majority \(&gt; than 50% of the turnout\) "yes" votes to approve and this is called positive turnout bias. Whereas a proposal raised and unanimously approved by the Council has a negative turnout bias where a super-majority of "no" votes to reject. For a proposal raised by the Council but not approved unanimously but only by simple-majority of the Council is also determined by the simple-majority votes of the general public. 

The network can punish validators for being offline or equivocation in block production or finality. The nature and severity of the punishment also change with the number of validators involved in the activity. If only 10% of validators are detected offline then no direct economic penalty \(slashing\) is applied else the penalty increases linearly to the number of offline validators. However validators are removed from the current validator set and barred from participating in the next validator selection \(indirect economic penalty\) for being offline, this is called _chilling_. Validators found to be equivocating are sent to chilling and slashed, the slashing being quadratically proportional to the number of validators equivocating. Anticipating that a validator might become offline or might equivocate due to bugs in the software, the Council reserves the right to reverse any slashing event \(up to 6 epochs in past, i.e. approx. 2 months\) by voting. Reversing any slash requires at least a simple majority of Council votes. As the slashing amount increases, more Council votes are needed to reverse the slash.

